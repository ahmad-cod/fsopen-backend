{"version":3,"sources":["components/Filter.js","components/Form.js","components/Person.js","components/Persons.js","services/phones.js","components/Notification.js","App.js","index.js"],"names":["Filter","handleChange","id","placeholder","onChange","Form","handleSubmit","value","onSubmit","newName","newNumber","type","Person","person","del","className","name","number","style","background","color","padding","margin","borderRadius","outline","onClick","window","confirm","Persons","persons","filtered","length","map","baseUrl","axios","get","newObject","post","put","delete","Notification","message","error","success","App","useState","setPersons","setNewName","setNewNumber","setFiltered","notification","setNotification","useEffect","console","log","phoneService","then","response","data","e","target","filter","RegExp","test","preventDefault","alert","samePerson","find","res","catch","setTimeout","concat","personid","deletedContact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.545e2dde.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Filter = ({ handleChange }) => {\r\n    return (\r\n      <p>Filter shown with <input id=\"filter\" placeholder=\"filter\" onChange={handleChange} /></p>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react';\r\n\r\nconst Form = ({ handleChange, handleSubmit, value }) => {\r\n    return (\r\n        < >\r\n            <form onSubmit={handleSubmit}>\r\n                <div>\r\n                Name: <input id=\"name\" placeholder=\"new name\" onChange={handleChange} value={value.newName} />\r\n                </div>\r\n                <div>\r\n                Number: <input id=\"number\" placeholder=\"contact number\" onChange={handleChange} value={value.newNumber} />\r\n                </div>\r\n                <div>\r\n                <button type=\"submit\">Add</button>\r\n                </div>\r\n            </form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Form","import React from 'react';\r\n\r\nconst Person = ({ person, del }) => {\r\n  const btnStyle = {\r\n    background: \"red\",\r\n    color: \"white\",\r\n    padding: \"2px 10px\" ,\r\n    margin: \"2px 15px\",\r\n    borderRadius: \"6px\",\r\n    outline: \"none\"\r\n  }\r\n  const liStyle = {\r\n    margin: \"6px 0\",\r\n    padding: \"10px 0\"\r\n  }\r\n  return (\r\n    <div className=\"Person\">\r\n      <li>{person.name} {person.number} <button style={btnStyle} onClick={() => {if(window.confirm(\"Are you sure you want to delete this contact?\")){del(person.id)}}}>delete</button></li>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Person;\r\n","import React from 'react';\r\nimport Person from './Person';\r\n\r\nconst Persons = ({ persons, filtered, del }) => {\r\n    return (\r\n        <>\r\n        <ul>\r\n            {filtered.length ? \r\n            filtered.map((person) => <Person key={person.id} person={person} del={del}/>) : \r\n            persons.map((person) => <Person key={person.id} person={person} del={del} />)}\r\n      </ul>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject)\r\n} \r\n\r\nconst deletePhone = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nexport default { \r\n  getAll, \r\n  create, \r\n  update,\r\n  deletePhone\r\n}","import React from 'react';\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n    else if(message.error){\r\n    return (\r\n      <div className=\"error\">\r\n        {message}\r\n      </div>\r\n    )\r\n    }\r\n    else {\r\n        return (\r\n            <div className=\"success\">\r\n                {message.success}\r\n            </div>\r\n        )\r\n    }\r\n  }\r\n  export default Notification","import React, { useState, useEffect } from 'react';\r\nimport Filter from './components/Filter';\r\nimport Form from './components/Form';\r\nimport Persons from './components/Persons';\r\nimport phoneService from './services/phones';\r\nimport Notification from './components/Notification';\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [ newName, setNewName ] = useState('');\r\n  const [ newNumber, setNewNumber ] = useState('');\r\n  const [ filtered, setFiltered ] = useState([]);\r\n  const [notification, setNotification] = useState(null);\r\n\r\n  useEffect(() => {\r\n    console.log('effect')\r\n    phoneService.getAll()\r\n        .then(response => {\r\n          console.log(response)\r\n          setPersons(response.data)\r\n        }) \r\n  \r\n  }, [])\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if(!newName) return alert('please input a name');\r\n    const samePerson = persons.find((person) => person.name === newName)\r\n    if(samePerson) {\r\n      console.log('same person', samePerson.id)\r\n      let confirmed = window.confirm(`${samePerson.name} is already added to phonebook, replace the old number with a new one`)\r\n      if(confirmed)\r\n      return phoneService.update(samePerson.id,{name: newName, number: newNumber})\r\n           .then(res => {\r\n             console.log(res)\r\n             setPersons(persons.map(person => person.id !== samePerson.id ? person : res.data))\r\n           })\r\n           .catch(error => {\r\n            setNotification({error})\r\n            setTimeout(() => setNotification(null), 5000)\r\n          })\r\n          setNewName('');\r\n          setNewNumber('')\r\n    }\r\n    phoneService.create({name: newName, number: newNumber})\r\n            .then(res => {\r\n              console.log(res);\r\n              setPersons(persons.concat(res.data))\r\n              setNotification({success : `${newName} has been created successfully`})\r\n              setTimeout(() => setNotification(null), 4000)\r\n            })\r\n            .catch(error => {\r\n              setNotification({error})\r\n              setTimeout(() => setNotification(null), 5000)\r\n            })\r\n            setNewName('');\r\n            setNewNumber('')\r\n  }\r\n  const handleChange = (e) => {\r\n    // setNameValue(e.target.value)\r\n    if(e.target.id === 'name') {\r\n      setFiltered('')\r\n      return setNewName(() => e.target.value)\r\n    }\r\n    if(e.target.id === 'number') {\r\n      setFiltered('')\r\n      return setNewNumber(() => e.target.value)\r\n    }\r\n    if(e.target.id === 'filter') {\r\n      let filtered = persons.filter(person => new RegExp(e.target.value, 'i').test(person.name))\r\n      console.log(filtered);\r\n      setFiltered(filtered)\r\n    }\r\n  }\r\n  const handleDelete = (personid) => {\r\n  console.log(personid)\r\n  const deletedContact = persons.find(person => person.id === personid)\r\n    phoneService.deletePhone(personid)\r\n      .then(res => {\r\n        setPersons(persons.filter(person => person.id !== personid));\r\n        setNotification({success : `You successfully deleted ${deletedContact.name}`})\r\n        setTimeout(() => setNotification(null), 4000)\r\n      })\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={notification} />\r\n      <Filter handleChange={handleChange} />\r\n      <Form handleChange={handleChange} handleSubmit={handleSubmit} \r\n      value={{newName, newNumber}} />\r\n      <h2>Contacts</h2>\r\n      <Persons persons={persons} filtered={filtered} del={handleDelete} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}