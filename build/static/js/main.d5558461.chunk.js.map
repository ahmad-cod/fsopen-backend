{"version":3,"sources":["components/Filter.js","components/Form.js","components/Person.js","components/Persons.js","services/phones.js","components/Notification.js","App.js","index.js"],"names":["Filter","handleChange","id","onChange","Form","handleSubmit","value","onSubmit","newName","newNumber","type","Person","person","del","className","name","number","style","background","color","padding","borderRadius","onClick","window","confirm","Persons","persons","filtered","length","map","baseUrl","axios","get","newObject","post","put","delete","Notification","message","error","success","App","useState","setPersons","setNewName","setNewNumber","setFiltered","notification","setNotification","useEffect","console","log","phoneService","then","response","data","e","target","filter","includes","preventDefault","alert","samePerson","find","res","catch","setTimeout","concat","personid","deletedContact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d5558461.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Filter = ({ handleChange }) => {\r\n    return (\r\n      <p>filter shown with <input id=\"filter\" onChange={handleChange} /></p>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react';\r\n\r\nconst Form = ({ handleChange, handleSubmit, value }) => {\r\n    // const [inputValue, setInputValue] = useState('')\r\n    return (\r\n        < >\r\n            <form onSubmit={handleSubmit}>\r\n                <div>\r\n                name: <input id=\"name\" onChange={handleChange} value={value.newName} />\r\n                </div>\r\n                <div>\r\n                number: <input id=\"number\" onChange={handleChange} value={value.newNumber} />\r\n                </div>\r\n                <div>\r\n                <button type=\"submit\">add</button>\r\n                </div>\r\n            </form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Form","import React from 'react';\r\n\r\nconst Person = ({ person, del }) => {\r\n  const btnStyle = {\r\n    background: \"red\",\r\n    color: \"white\",\r\n    padding: \"2px 10px\" ,\r\n    borderRadius: \"10px\"\r\n  }\r\n  return (\r\n    <div className=\"Person\">\r\n      <li>{person.name} {person.number} <button style={btnStyle} onClick={() => {if(window.confirm(\"Are you sure you want to delete this contact?\")){del(person.id)}}}>delete</button></li>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Person;\r\n","import React from 'react';\r\nimport Person from './Person';\r\n\r\nconst Persons = ({ persons, filtered, del }) => {\r\n    return (\r\n        <>\r\n        <ul>\r\n            {filtered.length ? \r\n            filtered.map((person) => <Person key={person.id} person={person} del={del}/>) : \r\n            persons.map((person) => <Person key={person.id} person={person} del={del} />)}\r\n      </ul>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject)\r\n} \r\n\r\nconst deletePhone = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nexport default { \r\n  getAll, \r\n  create, \r\n  update,\r\n  deletePhone\r\n}","import React from 'react';\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n    else if(message.error){\r\n    return (\r\n      <div className=\"error\">\r\n        {message}\r\n      </div>\r\n    )\r\n    }\r\n    else {\r\n        return (\r\n            <div className=\"success\">\r\n                {message.success}\r\n            </div>\r\n        )\r\n    }\r\n  }\r\n  export default Notification","import React, { useState, useEffect } from 'react';\r\nimport Filter from './components/Filter';\r\nimport Form from './components/Form';\r\nimport Persons from './components/Persons';\r\nimport phoneService from './services/phones';\r\nimport Notification from './components/Notification';\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [ newName, setNewName ] = useState('');\r\n  const [ newNumber, setNewNumber ] = useState('');\r\n  const [ filtered, setFiltered ] = useState([]);\r\n  // const [ nameValue, setNameValue ] = useState('');\r\n  // const [ numberValue, setNumberValue ] = useState('');\r\n  const [notification, setNotification] = useState(null);\r\n\r\n  useEffect(() => {\r\n    console.log('effect')\r\n    phoneService.getAll()\r\n        .then(response => {\r\n          console.log(response)\r\n          setPersons(response.data)\r\n        }) \r\n  \r\n  }, [])\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if(!newName) return alert('please input a name');\r\n    const samePerson = persons.find((person) => person.name === newName)\r\n    if(samePerson) {\r\n      console.log('same person', samePerson.id)\r\n      let confirmed = window.confirm(`${samePerson.name} is already added to phonebook, replace the old number with a new one`)\r\n      if(confirmed)\r\n      return phoneService.update(samePerson.id,{name: newName, number: newNumber})\r\n           .then(res => {\r\n             console.log(res)\r\n             setPersons(persons.map(person => person.id !== samePerson.id ? person : res.data))\r\n           })\r\n           .catch(error => {\r\n            setNotification({error})\r\n            setTimeout(() => setNotification(null), 5000)\r\n          })\r\n    }\r\n    phoneService.create({name: newName, number: newNumber})\r\n            .then(res => {\r\n              console.log(res);\r\n              setPersons(persons.concat(res.data))\r\n              setNotification({success : `${newName} has been created successfully`})\r\n              setTimeout(() => setNotification(null), 4000)\r\n            })\r\n            .catch(error => {\r\n              setNotification({error})\r\n              setTimeout(() => setNotification(null), 5000)\r\n            })\r\n            setNewName('');\r\n            setNewNumber('')\r\n  }\r\n  const handleChange = (e) => {\r\n    // setNameValue(e.target.value)\r\n    if(e.target.id === 'name') return setNewName(() => e.target.value)\r\n    if(e.target.id === 'number') return setNewNumber(() => e.target.value)\r\n    if(e.target.id === 'filter') {\r\n      let filtered = persons.filter(person => person.name.includes(e.target.value))\r\n      console.log(filtered);\r\n      setFiltered(() => filtered)\r\n    }\r\n  }\r\n  const handleDelete = (personid) => {\r\n  console.log(personid)\r\n  const deletedContact = persons.find(person => person.id === personid)\r\n    phoneService.deletePhone(personid)\r\n      .then(res => {\r\n        console.log(res)\r\n        setPersons(persons.filter(person => person.id !== personid));\r\n        setNotification({success : `You successfully deleted ${deletedContact.name}`})\r\n        setTimeout(() => setNotification(null), 4000)\r\n      })\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={notification} />\r\n      <Filter handleChange={handleChange} />\r\n      <Form handleChange={handleChange} handleSubmit={handleSubmit} \r\n      value={{newName, newNumber}} />\r\n      <h2>Contacts</h2>\r\n      <Persons persons={persons} filtered={filtered} del={handleDelete} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}